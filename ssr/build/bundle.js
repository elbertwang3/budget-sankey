var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function s(e,t,n){e.$$.on_destroy.push(a(t,n))}function u(e,t,n,r){if(e){const i=c(e,t,n,r);return e[0](i)}}function c(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function l(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function f(e,t,n,r,i,o){if(i){const a=c(t,n,r,o);e.p(a,i)}}function d(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function h(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function y(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function x(e){return document.createTextNode(e)}function w(){return x(" ")}function b(){return x("")}function $(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function M(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function k(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}let S,F;function N(){if(void 0===S){S=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){S=!0}}return S}function R(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=v("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=N();let i;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=$(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=$(n.contentWindow,"resize",t)}),h(e,n),()=>{(r||i&&n.contentWindow)&&i(),p(n)}}function P(e,t,n){e.classList[n?"add":"remove"](t)}function A(e){F=e}function C(){if(!F)throw new Error("Function called outside component initialization");return F}function E(e){return C().$$.context.get(e)}const z=[],L=[],T=[],I=[],j=Promise.resolve();let O=!1;function D(e){T.push(e)}function G(e){I.push(e)}let q=!1;const H=new Set;function B(){if(!q){q=!0;do{for(let e=0;e<z.length;e+=1){const t=z[e];A(t),W(t.$$)}for(A(null),z.length=0;L.length;)L.pop()();for(let e=0;e<T.length;e+=1){const t=T[e];H.has(t)||(H.add(t),t())}T.length=0}while(z.length);for(;I.length;)I.pop()();O=!1,q=!1,H.clear()}}function W(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(D)}}const U=new Set;let Y;function X(e,t){e&&e.i&&(U.delete(e),e.i(t))}function V(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),Y.c.push((()=>{U.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function Z(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Q(e){e&&e.c()}function J(e,n,o,a){const{fragment:s,on_mount:u,on_destroy:c,after_update:l}=e.$$;s&&s.m(n,o),a||D((()=>{const n=u.map(t).filter(i);c?c.push(...n):r(n),e.$$.on_mount=[]})),l.forEach(D)}function K(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ee(e,t){-1===e.$$.dirty[0]&&(z.push(e),O||(O=!0,j.then(B)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function te(t,i,o,a,s,u,c,l=[-1]){const f=F;A(t);const d=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:i.context||[]),callbacks:n(),dirty:l,skip_bound:!1,root:i.target||f.$$.root};c&&c(d.root);let h=!1;if(d.ctx=o?o(t,i.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),h&&ee(t,e)),n})):[],d.update(),h=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);d.fragment&&d.fragment.l(e),e.forEach(p)}else d.fragment&&d.fragment.c();i.intro&&X(t.$$.fragment),J(t,i.target,i.anchor,i.customElement),B()}A(f)}class ne{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const re=[];function ie(t,n=e){let r;const i=new Set;function a(e){if(o(t,e)&&(t=e,r)){const e=!re.length;for(const e of i)e[1](),re.push(e,t);if(e){for(let e=0;e<re.length;e+=2)re[e][0](re[e+1]);re.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(o,s=e){const u=[o,s];return i.add(u),1===i.size&&(r=n(a)||e),o(t),()=>{i.delete(u),0===i.size&&(r(),r=null)}}}}function oe(t,n,o){const s=!Array.isArray(t),u=s?[t]:t,c=n.length<2;return function(e,t){return{subscribe:ie(e,t).subscribe}}(o,(t=>{let o=!1;const l=[];let f=0,d=e;const h=()=>{if(f)return;d();const r=n(s?l[0]:l,t);c?t(r):d=i(r)?r:e},g=u.map(((e,t)=>a(e,(e=>{l[t]=e,f&=~(1<<t),o&&h()}),(()=>{f|=1<<t}))));return o=!0,h(),function(){r(g),d()}}))}function ae(e){return 0===(t=e)||t?Array.isArray(e)?t=>e.map((e=>"function"!=typeof e?t[e]:e(t))):"function"!=typeof e?t=>t[e]:e:null;var t}function se(e,t={}){return function(e){const t={};for(const n of e){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:e,1:r}=n;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,writable:!0,value:r})}return t}(Object.entries(e).filter((([e,n])=>void 0!==n&&void 0===t[e])))}function ue(e,t){if(!Array.isArray(e))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(t)||null==t)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},r=Object.keys(t),i=r.length;let o,a,s,u,c,l,f,d;const h=e.length;for(o=0;o<i;o+=1){for(u=r[o],f=t[u],c=null,l=null,a=0;a<h;a+=1)if(d=f(e[a]),Array.isArray(d)){const e=d.length;for(s=0;s<e;s+=1)void 0!==d[s]&&null!==d[s]&&!1===Number.isNaN(d[s])&&((null===c||d[s]<c)&&(c=d[s]),(null===l||d[s]>l)&&(l=d[s]))}else null!=d&&!1===Number.isNaN(d)&&((null===c||d<c)&&(c=d),(null===l||d>l)&&(l=d));n[u]=[c,l]}return n}function ce(e=[],t){return!0===Array.isArray(t)?t.map(((t,n)=>null===t?e[n]:t)):e}function le(e){return function([t,n]){return t?ce(t[e],n):n}}function fe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function de(e){let t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>fe(e(t),n)}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);const a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}const he=de(fe).right;de((function(e){return null===e?NaN:+e})).center;var ge=he,pe=Math.sqrt(50),ye=Math.sqrt(10),ve=Math.sqrt(2);function me(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=pe?10:o>=ye?5:o>=ve?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=pe?10:o>=ye?5:o>=ve?2:1)}function xe(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function we(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function be(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $e(){}var _e=.7,Me=1/_e,ke="\\s*([+-]?\\d+)\\s*",Se="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ne=/^#([0-9a-f]{3,8})$/,Re=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Pe=new RegExp("^rgb\\("+[Fe,Fe,Fe]+"\\)$"),Ae=new RegExp("^rgba\\("+[ke,ke,ke,Se]+"\\)$"),Ce=new RegExp("^rgba\\("+[Fe,Fe,Fe,Se]+"\\)$"),Ee=new RegExp("^hsl\\("+[Se,Fe,Fe]+"\\)$"),ze=new RegExp("^hsla\\("+[Se,Fe,Fe,Se]+"\\)$"),Le={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Te(){return this.rgb().formatHex()}function Ie(){return this.rgb().formatRgb()}function je(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ne.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Oe(t):3===n?new He(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?De(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?De(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Re.exec(e))?new He(t[1],t[2],t[3],1):(t=Pe.exec(e))?new He(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Ae.exec(e))?De(t[1],t[2],t[3],t[4]):(t=Ce.exec(e))?De(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ee.exec(e))?Ye(t[1],t[2]/100,t[3]/100,1):(t=ze.exec(e))?Ye(t[1],t[2]/100,t[3]/100,t[4]):Le.hasOwnProperty(e)?Oe(Le[e]):"transparent"===e?new He(NaN,NaN,NaN,0):null}function Oe(e){return new He(e>>16&255,e>>8&255,255&e,1)}function De(e,t,n,r){return r<=0&&(e=t=n=NaN),new He(e,t,n,r)}function Ge(e){return e instanceof $e||(e=je(e)),e?new He((e=e.rgb()).r,e.g,e.b,e.opacity):new He}function qe(e,t,n,r){return 1===arguments.length?Ge(e):new He(e,t,n,null==r?1:r)}function He(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Be(){return"#"+Ue(this.r)+Ue(this.g)+Ue(this.b)}function We(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function Ue(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function Ye(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ve(e,t,n,r)}function Xe(e){if(e instanceof Ve)return new Ve(e.h,e.s,e.l,e.opacity);if(e instanceof $e||(e=je(e)),!e)return new Ve;if(e instanceof Ve)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ve(a,s,u,e.opacity)}function Ve(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ze(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}we($e,je,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Te,formatHex:Te,formatHsl:function(){return Xe(this).formatHsl()},formatRgb:Ie,toString:Ie}),we(He,qe,be($e,{brighter:function(e){return e=null==e?Me:Math.pow(Me,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?_e:Math.pow(_e,e),new He(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Be,formatHex:Be,formatRgb:We,toString:We})),we(Ve,(function(e,t,n,r){return 1===arguments.length?Xe(e):new Ve(e,t,n,null==r?1:r)}),be($e,{brighter:function(e){return e=null==e?Me:Math.pow(Me,e),new Ve(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?_e:Math.pow(_e,e),new Ve(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new He(Ze(e>=240?e-240:e+120,i,r),Ze(e,i,r),Ze(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Qe=e=>()=>e;function Je(e){return 1==(e=+e)?Ke:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Qe(isNaN(t)?n:t)}}function Ke(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Qe(isNaN(e)?t:e)}var et=function e(t){var n=Je(t);function r(e,t){var r=n((e=qe(e)).r,(t=qe(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Ke(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function tt(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function nt(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=ct(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function rt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function it(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ot(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=ct(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var at=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,st=new RegExp(at.source,"g");function ut(e,t){var n,r,i,o=at.lastIndex=st.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=at.exec(e))&&(r=st.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:it(n,r)})),o=st.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function ct(e,t){var n,r=typeof t;return null==t||"boolean"===r?Qe(t):("number"===r?it:"string"===r?(n=je(t))?(t=n,et):ut:t instanceof je?et:t instanceof Date?rt:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?tt:Array.isArray(t)?nt:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ot:it)(e,t)}function lt(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ft(e){return+e}var dt=[0,1];function ht(e){return e}function gt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function pt(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=gt(i,r),o=n(a,o)):(r=gt(r,i),o=n(o,a)),function(e){return o(r(e))}}function yt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=gt(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=ge(e,t,1,r)-1;return o[n](i[n](t))}}function vt(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mt(){var e,t,n,r,i,o,a=dt,s=dt,u=ct,c=ht;function l(){var e,t,n,u=Math.min(a.length,s.length);return c!==ht&&(e=a[0],t=a[u-1],e>t&&(n=e,e=t,t=n),c=function(n){return Math.max(e,Math.min(t,n))}),r=u>2?yt:pt,i=o=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(c(t)))}return f.invert=function(n){return c(t((o||(o=r(s,a.map(e),it)))(n)))},f.domain=function(e){return arguments.length?(a=Array.from(e,ft),l()):a.slice()},f.range=function(e){return arguments.length?(s=Array.from(e),l()):s.slice()},f.rangeRound=function(e){return s=Array.from(e),u=lt,l()},f.clamp=function(e){return arguments.length?(c=!!e||ht,l()):c!==ht},f.interpolate=function(e){return arguments.length?(u=e,l()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,l()}}function xt(){return mt()(ht,ht)}function wt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function bt(e){return(e=wt(Math.abs(e)))?e[1]:NaN}var $t,_t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mt(e){if(!(t=_t.exec(e)))throw new Error("invalid format: "+e);var t;return new kt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function kt(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function St(e,t){var n=wt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Mt.prototype=kt.prototype,kt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ft={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>St(100*e,t),r:St,s:function(e,t){var n=wt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-($t=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+wt(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Nt(e){return e}var Rt,Pt,At,Ct=Array.prototype.map,Et=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zt(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Nt:(t=Ct.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Nt:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Ct.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=Mt(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,g=e.width,p=e.comma,y=e.precision,v=e.trim,m=e.type;"n"===m?(p=!0,m="g"):Ft[m]||(void 0===y&&(y=12),v=!0,m="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var x="$"===d?i:"#"===d&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===d?o:/[%p]/.test(m)?u:"",b=Ft[m],$=/[defgprs%]/.test(m);function _(e){var i,o,u,d=x,_=w;if("c"===m)_=b(e)+_,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:b(Math.abs(e),y),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==f&&(M=!1),d=(M?"("===f?f:c:"-"===f||"("===f?"":f)+d,_=("s"===m?Et[8+$t/3]:"")+_+(M&&"("===f?")":""),$)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){_=(46===u?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}p&&!h&&(e=r(e,1/0));var k=d.length+e.length+_.length,S=k<g?new Array(g-k+1).join(t):"";switch(p&&h&&(e=r(S+e,S.length?g-_.length:1/0),S=""),n){case"<":e=d+e+_+S;break;case"=":e=d+S+e+_;break;case"^":e=S.slice(0,k=S.length>>1)+d+e+_+S.slice(k);break;default:e=S+d+e+_}return s(e)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),_.toString=function(){return e+""},_}return{format:f,formatPrefix:function(e,t){var n=f(((e=Mt(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(bt(t)/3))),i=Math.pow(10,-r),o=Et[8+r/3];return function(e){return n(i*e)+o}}}}function Lt(e,t,n,r){var i,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=pe?i*=10:o>=ye?i*=5:o>=ve&&(i*=2),t<e?-i:i}(e,t,n);switch((r=Mt(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(bt(t)/3)))-bt(Math.abs(e)))}(o,a))||(r.precision=i),At(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bt(t)-bt(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-bt(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return Pt(r)}function Tt(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=me(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Lt(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,u=o[a],c=o[s],l=10;for(c<u&&(i=u,u=c,c=i,i=a,a=s,s=i);l-- >0;){if((i=me(u,c,n))===r)return o[a]=u,o[s]=c,t(o);if(i>0)u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function It(){var e=xt();return e.copy=function(){return vt(e,It())},xe.apply(e,arguments),Tt(e)}function jt(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ot(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Dt(e){return e<0?-e*e:e*e}function Gt(e){var t=e(ht,ht),n=1;function r(){return 1===n?e(ht,ht):.5===n?e(Ot,Dt):e(jt(n),jt(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Tt(t)}function qt(){var e=Gt(mt());return e.copy=function(){return vt(e,qt()).exponent(e.exponent())},xe.apply(e,arguments),e}Rt=zt({thousands:",",grouping:[3],currency:["$",""]}),Pt=Rt.format,At=Rt.formatPrefix;var Ht={x:It,y:It,z:It,r:function(){return qt.apply(null,arguments).exponent(.5)}};function Bt(e){return e}function Wt(e){return t=>Math.log(e*t)}function Ut(e){return t=>e*Math.exp(t)}function Yt(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function Xt(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Vt(e,t){if("function"!=typeof e.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof e.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t))return e.domain();2!==e.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",e.domain()),2!==e.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",e.range());const{lift:n,ground:r}=function(e){const t=function(e){return e.constant?"symlog":e.base?"log":e.exponent?.5===e.exponent()?"sqrt":"pow":"other"}(e);if("log"===t){const n=Math.sign(e.domain()[0]);return{lift:Wt(n),ground:Ut(n),scaleType:t}}if("pow"===t){const e=1;return{lift:Xt(e),ground:Xt(1/e),scaleType:t}}if("sqrt"===t){const e=.5;return{lift:Xt(e),ground:Xt(1/e),scaleType:t}}if("symlog"===t){const e=1;return{lift:(n=e,e=>Math.sign(e)*Math.log1p(Math.abs(e/n))),ground:Yt(e),scaleType:t}}var n;return{lift:Bt,ground:Bt,scaleType:t}}(e),i=e.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,s]=e.domain().map((e=>n(o?e.getTime():e))),[u,c]=e.range(),l=t[0]||0,f=t[1]||0,d=(s-a)/(Math.abs(c-u)-l-f);return[a-l*d,f*d+s].map((e=>r(o?new Date(e):e)))}function Zt(e){return function([t,n,r,i,o,a,s,u,c,l]){if(null===n)return null;const f=function(e,t,n,r,i,o){return i?"function"==typeof i?i({width:t,height:n}):i:function(e,t,n,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===e?1:0,a="y"===e?n:"r"===e?25:t),!0===r?[a,o]:[o,a]}(e,t,n,r,o)}(e,s,u,a,c,l),d=t===Ht[e]?t():t.copy();return d.domain(ce(n[e],r)).range(f),i&&d.domain(Vt(d,i)),!0===o&&("function"==typeof d.nice?d.nice():console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Qt([e,t]){return n=>{const r=e(n);return Array.isArray(r)?r.map((e=>t(e))):t(r)}}function Jt([e]){if("function"==typeof e){if("function"==typeof e.range)return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var Kt={x:!1,y:!0,z:!1,r:!1};const en=e=>({element:4&e[0],width:64&e[0],height:128&e[0],aspectRatio:256&e[0],containerWidth:512&e[0],containerHeight:1024&e[0]}),tn=e=>({element:e[2],width:e[6],height:e[7],aspectRatio:e[8],containerWidth:e[9],containerHeight:e[10]});function nn(e){let t,n,r,i;const o=e[54].default,a=u(o,e,e[53],tn);return{c(){t=v("div"),a&&a.c(),_(t,"class","layercake-container svelte-vhzpsp"),_(t,"style",n="\n\t\t\tposition:"+e[5]+";\n\t\t\t"+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===e[4]?"pointer-events:none;":"")+"\n\t\t"),D((()=>e[56].call(t)))},m(n,o){g(n,t,o),a&&a.m(t,null),e[55](t),r=R(t,e[56].bind(t)),i=!0},p(e,r){a&&a.p&&(!i||1988&r[0]|4194304&r[1])&&f(a,o,e,e[53],i?l(o,e[53],r,en):d(e[53]),tn),(!i||48&r[0]&&n!==(n="\n\t\t\tposition:"+e[5]+";\n\t\t\t"+("absolute"===e[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===e[4]?"pointer-events:none;":"")+"\n\t\t"))&&_(t,"style",n)},i(e){i||(X(a,e),i=!0)},o(e){V(a,e),i=!1},d(n){n&&p(t),a&&a.d(n),e[55](null),r()}}}function rn(e){let t,n,i=(!0===e[3]||"undefined"!=typeof window)&&nn(e);return{c(){i&&i.c(),t=b()},m(e,r){i&&i.m(e,r),g(e,t,r),n=!0},p(e,n){!0===e[3]||"undefined"!=typeof window?i?(i.p(e,n),8&n[0]&&X(i,1)):(i=nn(e),i.c(),X(i,1),i.m(t.parentNode,t)):i&&(Y={r:0,c:[],p:Y},V(i,1,1,(()=>{i=null})),Y.r||r(Y.c),Y=Y.p)},i(e){n||(X(i),n=!0)},o(e){V(i),n=!1},d(e){i&&i.d(e),e&&p(t)}}}function on(e,t,n){let r,i,o,a,u,c,{$$slots:l={},$$scope:f}=t,{ssr:d=!1}=t,{pointerEvents:h=!0}=t,{position:g="relative"}=t,{percentRange:p=!1}=t,{width:y}=t,{height:v}=t,{containerWidth:m=y||100}=t,{containerHeight:x=v||100}=t,{element:w}=t,{x:b}=t,{y:$}=t,{z:_}=t,{r:M}=t,{custom:k={}}=t,{data:S=[]}=t,{xDomain:F}=t,{yDomain:N}=t,{zDomain:R}=t,{rDomain:P}=t,{xNice:A=!1}=t,{yNice:E=!1}=t,{zNice:z=!1}=t,{rNice:T=!1}=t,{xReverse:I=Kt.x}=t,{yReverse:j=Kt.y}=t,{zReverse:O=Kt.z}=t,{rReverse:D=Kt.r}=t,{xPadding:G}=t,{yPadding:q}=t,{zPadding:H}=t,{rPadding:B}=t,{xScale:W=Ht.x}=t,{yScale:U=Ht.y}=t,{zScale:Y=Ht.y}=t,{rScale:X=Ht.r}=t,{xRange:V}=t,{yRange:Z}=t,{zRange:Q}=t,{rRange:J}=t,{padding:K={}}=t,{extents:ee={}}=t,{flatData:te}=t;const ne={},re=ie(),ce=ie();s(e,ce,(e=>n(9,u=e)));const fe=ie();s(e,fe,(e=>n(10,c=e)));const de=ie(),he=ie(),ge=ie(),pe=ie(),ye=ie(),ve=ie(),me=ie(),xe=ie(),we=ie(),be=ie(),$e=ie(),_e=ie(),Me=ie(),ke=ie(),Se=ie(),Fe=ie(),Ne=ie(),Re=ie(),Pe=ie(),Ae=ie(),Ce=ie(),Ee=ie(),ze=ie(),Le=ie(),Te=ie(),Ie=ie(),je=ie(),Oe=ie(),De=ie(),Ge=ie(),qe=ie(),He=ie(),Be=ie(),We=ie(ne),Ue=oe([de,he,ge,pe],(([e,t,n,r])=>{const i={};return e&&(i.x=e),t&&(i.y=t),n&&(i.z=n),r&&(i.r=r),i})),Ye=oe([qe,ce,fe],(([e])=>Object.assign({top:0,right:0,bottom:0,left:0},e))),Xe=oe([ce,fe,Ye],(([e,t,n])=>{const r={};return r.top=n.top,r.right=e-n.right,r.bottom=t-n.bottom,r.left=n.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Ve=oe([Xe],(([e])=>e.width));s(e,Ve,(e=>n(6,i=e)));const Ze=oe([Xe],(([e])=>e.height));s(e,Ze,(e=>n(7,o=e)));const Qe=oe([He,Ue,Be],(([e,t,n])=>({...ue(e,se(t,n)),...n}))),Je=oe([Qe,me],le("x")),Ke=oe([Qe,xe],le("y")),et=oe([Qe,we],le("z")),tt=oe([Qe,be],le("r")),nt=oe([ze,Qe,Je,Pe,$e,Se,Ve,Ze,je,re],Zt("x")),rt=oe([de,nt],Qt),it=oe([Le,Qe,Ke,Ae,_e,Fe,Ve,Ze,Oe,re],Zt("y")),ot=oe([he,it],Qt),at=oe([Te,Qe,et,Ce,Me,Ne,Ve,Ze,De,re],Zt("z")),st=oe([ge,at],Qt),ut=oe([Ie,Qe,tt,Ee,ke,Re,Ve,Ze,Ge,re],Zt("r")),ct=oe([pe,ut],Qt),lt=oe([nt],Jt),ft=oe([it],Jt),dt=oe([at],Jt),ht=oe([ut],Jt),gt=oe([Ve,Ze],(([e,t,n])=>t/n));return s(e,gt,(e=>n(8,a=e))),e.$$set=e=>{"ssr"in e&&n(3,d=e.ssr),"pointerEvents"in e&&n(4,h=e.pointerEvents),"position"in e&&n(5,g=e.position),"percentRange"in e&&n(16,p=e.percentRange),"width"in e&&n(17,y=e.width),"height"in e&&n(18,v=e.height),"containerWidth"in e&&n(0,m=e.containerWidth),"containerHeight"in e&&n(1,x=e.containerHeight),"element"in e&&n(2,w=e.element),"x"in e&&n(19,b=e.x),"y"in e&&n(20,$=e.y),"z"in e&&n(21,_=e.z),"r"in e&&n(22,M=e.r),"custom"in e&&n(23,k=e.custom),"data"in e&&n(24,S=e.data),"xDomain"in e&&n(25,F=e.xDomain),"yDomain"in e&&n(26,N=e.yDomain),"zDomain"in e&&n(27,R=e.zDomain),"rDomain"in e&&n(28,P=e.rDomain),"xNice"in e&&n(29,A=e.xNice),"yNice"in e&&n(30,E=e.yNice),"zNice"in e&&n(31,z=e.zNice),"rNice"in e&&n(32,T=e.rNice),"xReverse"in e&&n(33,I=e.xReverse),"yReverse"in e&&n(34,j=e.yReverse),"zReverse"in e&&n(35,O=e.zReverse),"rReverse"in e&&n(36,D=e.rReverse),"xPadding"in e&&n(37,G=e.xPadding),"yPadding"in e&&n(38,q=e.yPadding),"zPadding"in e&&n(39,H=e.zPadding),"rPadding"in e&&n(40,B=e.rPadding),"xScale"in e&&n(41,W=e.xScale),"yScale"in e&&n(42,U=e.yScale),"zScale"in e&&n(43,Y=e.zScale),"rScale"in e&&n(44,X=e.rScale),"xRange"in e&&n(45,V=e.xRange),"yRange"in e&&n(46,Z=e.yRange),"zRange"in e&&n(47,Q=e.zRange),"rRange"in e&&n(48,J=e.rRange),"padding"in e&&n(49,K=e.padding),"extents"in e&&n(50,ee=e.extents),"flatData"in e&&n(51,te=e.flatData),"$$scope"in e&&n(53,f=e.$$scope)},e.$$.update=()=>{524288&e.$$.dirty[0]&&b&&(ne.x=b),1048576&e.$$.dirty[0]&&$&&(ne.y=$),2097152&e.$$.dirty[0]&&_&&(ne.z=_),4194304&e.$$.dirty[0]&&M&&(ne.r=M),33554432&e.$$.dirty[0]&&F&&(ne.xDomain=F),67108864&e.$$.dirty[0]&&N&&(ne.yDomain=N),134217728&e.$$.dirty[0]&&R&&(ne.zDomain=R),268435456&e.$$.dirty[0]&&P&&(ne.rDomain=P),16384&e.$$.dirty[1]&&V&&(ne.xRange=V),32768&e.$$.dirty[1]&&Z&&(ne.yRange=Z),65536&e.$$.dirty[1]&&Q&&(ne.zRange=Q),131072&e.$$.dirty[1]&&J&&(ne.rRange=J),65536&e.$$.dirty[0]&&re.set(p),1&e.$$.dirty[0]&&ce.set(m),2&e.$$.dirty[0]&&fe.set(x),524288&e.$$.dirty[0]&&de.set(ae(b)),1048576&e.$$.dirty[0]&&he.set(ae($)),2097152&e.$$.dirty[0]&&ge.set(ae(_)),4194304&e.$$.dirty[0]&&pe.set(ae(M)),33554432&e.$$.dirty[0]&&me.set(F),67108864&e.$$.dirty[0]&&xe.set(N),134217728&e.$$.dirty[0]&&we.set(R),268435456&e.$$.dirty[0]&&be.set(P),8388608&e.$$.dirty[0]&&ye.set(k),16777216&e.$$.dirty[0]&&ve.set(S),536870912&e.$$.dirty[0]&&$e.set(A),1073741824&e.$$.dirty[0]&&_e.set(E),1&e.$$.dirty[1]&&Me.set(z),2&e.$$.dirty[1]&&ke.set(T),4&e.$$.dirty[1]&&Se.set(I),8&e.$$.dirty[1]&&Fe.set(j),16&e.$$.dirty[1]&&Ne.set(O),32&e.$$.dirty[1]&&Re.set(D),64&e.$$.dirty[1]&&Pe.set(G),128&e.$$.dirty[1]&&Ae.set(q),256&e.$$.dirty[1]&&Ce.set(H),512&e.$$.dirty[1]&&Ee.set(B),1024&e.$$.dirty[1]&&ze.set(W),2048&e.$$.dirty[1]&&Le.set(U),4096&e.$$.dirty[1]&&Te.set(Y),8192&e.$$.dirty[1]&&Ie.set(X),16384&e.$$.dirty[1]&&je.set(V),32768&e.$$.dirty[1]&&Oe.set(Z),65536&e.$$.dirty[1]&&De.set(Q),131072&e.$$.dirty[1]&&Ge.set(J),262144&e.$$.dirty[1]&&qe.set(K),524288&e.$$.dirty[1]&&Be.set(se(ee)),16777216&e.$$.dirty[0]|1048576&e.$$.dirty[1]&&He.set(te||S),2097152&e.$$.dirty[1]&&function(e,t){C().$$.context.set(e,t)}("LayerCake",r)},n(52,r={activeGetters:Ue,width:Ve,height:Ze,percentRange:re,aspectRatio:gt,containerWidth:ce,containerHeight:fe,x:de,y:he,z:ge,r:pe,custom:ye,data:ve,xNice:$e,yNice:_e,zNice:Me,rNice:ke,xReverse:Se,yReverse:Fe,zReverse:Ne,rReverse:Re,xPadding:Pe,yPadding:Ae,zPadding:Ce,rPadding:Ee,padding:Ye,flatData:He,extents:Qe,xDomain:Je,yDomain:Ke,zDomain:et,rDomain:tt,xRange:lt,yRange:ft,zRange:dt,rRange:ht,config:We,xScale:nt,xGet:rt,yScale:it,yGet:ot,zScale:at,zGet:st,rScale:ut,rGet:ct}),[m,x,w,d,h,g,i,o,a,u,c,ce,fe,Ve,Ze,gt,p,y,v,b,$,_,M,k,S,F,N,R,P,A,E,z,T,I,j,O,D,G,q,H,B,W,U,Y,X,V,Z,Q,J,K,ee,te,r,f,l,function(e){L[e?"unshift":"push"]((()=>{w=e,n(2,w)}))},function(){m=this.clientWidth,x=this.clientHeight,n(0,m),n(1,x)}]}class an extends ne{constructor(e){super(),te(this,e,on,rn,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const sn=e=>({element:1&e}),un=e=>({element:e[0]}),cn=e=>({element:1&e}),ln=e=>({element:e[0]});function fn(e){let t,n,r,i,o,a;const s=e[13].defs,c=u(s,e,e[12],ln),y=e[13].default,v=u(y,e,e[12],un);return{c(){t=m("svg"),n=m("defs"),c&&c.c(),r=m("g"),v&&v.c(),_(r,"class","layercake-layout-svg_g"),_(r,"transform",i="translate("+e[6].left+", "+e[6].top+")"),_(t,"class","layercake-layout-svg svelte-u84d8d"),_(t,"viewBox",e[1]),_(t,"width",e[4]),_(t,"height",e[5]),_(t,"style",o=""+(e[2]+e[3]))},m(i,o){g(i,t,o),h(t,n),c&&c.m(n,null),h(t,r),v&&v.m(r,null),e[14](t),a=!0},p(e,[n]){c&&c.p&&(!a||4097&n)&&f(c,s,e,e[12],a?l(s,e[12],n,cn):d(e[12]),ln),v&&v.p&&(!a||4097&n)&&f(v,y,e,e[12],a?l(y,e[12],n,sn):d(e[12]),un),(!a||64&n&&i!==(i="translate("+e[6].left+", "+e[6].top+")"))&&_(r,"transform",i),(!a||2&n)&&_(t,"viewBox",e[1]),(!a||16&n)&&_(t,"width",e[4]),(!a||32&n)&&_(t,"height",e[5]),(!a||12&n&&o!==(o=""+(e[2]+e[3])))&&_(t,"style",o)},i(e){a||(X(c,e),X(v,e),a=!0)},o(e){V(c,e),V(v,e),a=!1},d(n){n&&p(t),c&&c.d(n),v&&v.d(n),e[14](null)}}}function dn(e,t,n){let r,i,o,{$$slots:a={},$$scope:u}=t,{element:c}=t,{viewBox:l}=t,{zIndex:f}=t,{pointerEvents:d}=t,h="",g="";const{containerWidth:p,containerHeight:y,padding:v}=E("LayerCake");return s(e,p,(e=>n(4,r=e))),s(e,y,(e=>n(5,i=e))),s(e,v,(e=>n(6,o=e))),e.$$set=e=>{"element"in e&&n(0,c=e.element),"viewBox"in e&&n(1,l=e.viewBox),"zIndex"in e&&n(10,f=e.zIndex),"pointerEvents"in e&&n(11,d=e.pointerEvents),"$$scope"in e&&n(12,u=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(2,h=void 0!==f?`z-index:${f};`:""),2048&e.$$.dirty&&n(3,g=!1===d?"pointer-events:none;":"")},[c,l,h,g,r,i,o,p,y,v,f,d,u,a,function(e){L[e?"unshift":"push"]((()=>{c=e,n(0,c)}))}]}class hn extends ne{constructor(e){super(),te(this,e,dn,fn,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}var gn={nodes:[{id:"Business Taxes",definition:"Taxes collected from businesses, including gross receipts taxes, commercial rent taxes, administrative office taxes and others. ",category:"revenues"},{id:"Charges for Services",definition:"Fees paid by residents and organizations for city services, ranging from hospital fees and building inspections to street cleaning. ",category:"revenues"},{id:"Contributions Ret/HSS/HlthCare",definition:"Employee contributions to retirement and healthcare funds.",category:"revenues"},{id:"Expenditure Recovery",definition:"Revenue from services performed by city departments for other city departments.",category:"revenues"},{id:"Fines, Forfeiture, & Penalties",definition:"Fines and penalties charged to residents, businesses and organizations. ",category:"revenues"},{id:"Interest & Investment Income",definition:"Interest earned and other value appreciation of funds loaned or invested. ",category:"revenues"},{id:"Intergovernmental: Federal",definition:"Funding from the U.S. federal government. ",category:"revenues"},{id:"Intergovernmental: Other",definition:"Funding from other government entities. ",category:"revenues"},{id:"Intergovernmental: State",definition:"Funding from the state of California. ",category:"revenues"},{id:"Intrafund Transfers In",definition:"Revenue transfers between city funds.",category:"revenues"},{id:"Licenses, Permits,& Franchises",definition:"Revenue from licenses and permits issued by the city. ",category:"revenues"},{id:"Other Financing Sources",definition:"Miscellaneous financing",category:"revenues"},{id:"Other Local Taxes",definition:"Sales taxes, hotel taxes, real estate transfer taxes and other assorted local taxes. ",category:"revenues"},{id:"Other Revenues",definition:"Miscellaneous revenue",category:"revenues"},{id:"Property Taxes",definition:"Taxes paid on property that is proportional to the property's assessed value.",category:"revenues"},{id:"Rents & Concessions",definition:"Rental income and seller concessions for properties owned by the city. ",category:"revenues"},{id:"Transfers In",definition:"Payments between city departments for services rendered. ",category:"revenues"},{id:"Unappropriated Fund Balance",definition:"Reserves from a prior year that are now being used as a source of funds.",category:"revenues"},{id:"Capital Projects Funds",definition:"Funds used for the acquisition or construction of major capital facilities",category:"funds"},{id:"Component Units",definition:"Entities that are legally separate but financially accountable to the city, such as the San Francisco Redevelopment Agency.",category:"funds"},{id:"Debt Service Funds",definition:"Funds used for long-term principal obligation, interest and related debt costs.",category:"funds"},{id:"Enterprise Funds",definition:"Funds from city and county agencies, such as the airport and ports, that earn revenue much like a business enterprise. ",category:"funds"},{id:"General Fund",definition:"The general operating fund for the city. ",category:"funds"},{id:"Internal Service Funds",definition:"Funds for goods and services provided by one department or agency to another on a cost-reimbursement basis, such as the Health Service System.",category:"funds"},{id:"Investment Trust Fund",definition:"A fiduciary fund used to report external investments.",category:"funds"},{id:"Pension, Other Employee and Ot",definition:"Pension and employee benefit trust funds. ",category:"funds"},{id:"Permanent Fund",definition:"Legally restricted funds to the extent that only\nearnings, and not principal, may be used for an ongoing purpose.",category:"funds"},{id:"Private Purpose Trust Fund",definition:"Funds used for the benefit of individuals, private organizations, or other governments.",category:"funds"},{id:"Special Revenue Funds",definition:"Proceeds of specific revenue sources (other than expendable trusts or major capital projects) that are legally restricted for specified purposes.",category:"funds"},{id:"Community Health",definition:"Public health operations, services and infrastructure",category:"spending"},{id:"Culture & Recreation",definition:"Parks, museums, libraries and other culture and recreation. ",category:"spending"},{id:"General Administration & Finance",definition:"General administration of the city, such as human resources, finance, Mayor's Office and Board of Supervisors.",category:"spending"},{id:"Human Welfare & Neighborhood Development",definition:"Social services and benefits for individuals, families and communities. ",category:"spending"},{id:"Public Protection",definition:"Public safety spending, such as police and fire. ",category:"spending"},{id:"Public Works, Transportation & Commerce",definition:"Transit, utilities, city maintenance and economic development.",category:"spending"},{id:"General City Responsibilities",definition:"Spending not directly attributable to one city department, or that is citywide in nature.",category:"spending"},{id:"Transfer Adjustment-Source",definition:"",category:"spending"},{id:"Transfer Adjustment - Uses",definition:"",category:"revenues"},{id:"Transfers Out",definition:"",category:"spending"}],links:[{source:"Business Taxes",target:"General Fund",value:95714e4},{source:"Business Taxes",target:"Special Revenue Funds",value:55667e4},{source:"Charges for Services",target:"Component Units",value:311e3},{source:"Charges for Services",target:"Enterprise Funds",value:3446860624},{source:"Charges for Services",target:"General Fund",value:255110935},{source:"Charges for Services",target:"Internal Service Funds",value:632609},{source:"Charges for Services",target:"Special Revenue Funds",value:116401214},{source:"Contributions Ret/HSS/HlthCare",target:"Pension, Other Employee and Ot",value:39523718},{source:"Fines, Forfeiture, & Penalties",target:"Debt Service Funds",value:18406400},{source:"Fines, Forfeiture, & Penalties",target:"Enterprise Funds",value:113250159},{source:"Fines, Forfeiture, & Penalties",target:"General Fund",value:4034532},{source:"Fines, Forfeiture, & Penalties",target:"Special Revenue Funds",value:11335028},{source:"Interest & Investment Income",target:"Capital Projects Funds",value:2292978},{source:"Interest & Investment Income",target:"Enterprise Funds",value:32394612},{source:"Interest & Investment Income",target:"General Fund",value:36247329},{source:"Interest & Investment Income",target:"Pension, Other Employee and Ot",value:4e5},{source:"Interest & Investment Income",target:"Permanent Fund",value:15e3},{source:"Interest & Investment Income",target:"Special Revenue Funds",value:4086812},{source:"Intergovernmental: Federal",target:"Enterprise Funds",value:309355357},{source:"Intergovernmental: Federal",target:"General Fund",value:359612475},{source:"Intergovernmental: Federal",target:"Special Revenue Funds",value:247127333},{source:"Intergovernmental: Other",target:"Capital Projects Funds",value:63e4},{source:"Intergovernmental: Other",target:"Enterprise Funds",value:126727381},{source:"Intergovernmental: Other",target:"General Fund",value:2781041},{source:"Intergovernmental: Other",target:"Internal Service Funds",value:41126},{source:"Intergovernmental: Other",target:"Special Revenue Funds",value:4021966},{source:"Intergovernmental: State",target:"Capital Projects Funds",value:207e3},{source:"Intergovernmental: State",target:"Debt Service Funds",value:8e5},{source:"Intergovernmental: State",target:"Enterprise Funds",value:126028045},{source:"Intergovernmental: State",target:"General Fund",value:854372018},{source:"Intergovernmental: State",target:"Special Revenue Funds",value:177712608},{source:"Licenses, Permits,& Franchises",target:"Enterprise Funds",value:19412844},{source:"Licenses, Permits,& Franchises",target:"General Fund",value:27944010},{source:"Licenses, Permits,& Franchises",target:"Special Revenue Funds",value:9233752},{source:"Other Financing Sources",target:"Capital Projects Funds",value:675e5},{source:"Other Financing Sources",target:"Special Revenue Funds",value:2400683},{source:"Other Local Taxes",target:"General Fund",value:77775e4},{source:"Other Local Taxes",target:"Special Revenue Funds",value:18581031},{source:"Other Revenues",target:"Component Units",value:15254338},{source:"Other Revenues",target:"Debt Service Funds",value:7660481},{source:"Other Revenues",target:"Enterprise Funds",value:181738663},{source:"Other Revenues",target:"General Fund",value:24237535},{source:"Other Revenues",target:"Permanent Fund",value:15e3},{source:"Other Revenues",target:"Special Revenue Funds",value:34814290},{source:"Property Taxes",target:"General Fund",value:21156e5},{source:"Property Taxes",target:"Special Revenue Funds",value:248134e3},{source:"Property Taxes",target:"Debt Service Funds",value:350355572},{source:"Rents & Concessions",target:"Component Units",value:1125e4},{source:"Rents & Concessions",target:"Enterprise Funds",value:391890227},{source:"Rents & Concessions",target:"General Fund",value:11728090},{source:"Rents & Concessions",target:"Internal Service Funds",value:528265},{source:"Rents & Concessions",target:"Permanent Fund",value:22500},{source:"Rents & Concessions",target:"Special Revenue Funds",value:39984064},{source:"Transfers In",target:"Debt Service Funds",value:225e4},{source:"Transfers In",target:"Enterprise Funds",value:1031565465},{source:"Transfers In",target:"General Fund",value:158329019},{source:"Transfers In",target:"Internal Service Funds",value:5e5},{source:"Transfers In",target:"Special Revenue Funds",value:454411175},{source:"Unappropriated Fund Balance",target:"Capital Projects Funds",value:3e6},{source:"Unappropriated Fund Balance",target:"Enterprise Funds",value:100150384},{source:"Unappropriated Fund Balance",target:"General Fund",value:778545814},{source:"Unappropriated Fund Balance",target:"Internal Service Funds",value:3380521},{source:"Unappropriated Fund Balance",target:"Permanent Fund",value:62500},{source:"Unappropriated Fund Balance",target:"Special Revenue Funds",value:203005647},{source:"Capital Projects Funds",target:"Community Health",value:101e5},{source:"Capital Projects Funds",target:"Culture & Recreation",value:6229978},{source:"Capital Projects Funds",target:"General Administration & Finance",value:36443e3},{source:"Capital Projects Funds",target:"Human Welfare & Neighborhood Development",value:2e6},{source:"Capital Projects Funds",target:"Public Protection",value:9857e3},{source:"Capital Projects Funds",target:"Public Works, Transportation & Commerce",value:9e6},{source:"Component Units",target:"General Administration & Finance",value:26815338},{source:"Debt Service Funds",target:"General City Responsibilities",value:379472453},{source:"Enterprise Funds",target:"Community Health",value:1383578784},{source:"Enterprise Funds",target:"Public Works, Transportation & Commerce",value:3978424335},{source:"Enterprise Funds",target:"Public Protection",value:102746326},{source:"General Fund",target:"Community Health",value:1056458931},{source:"General Fund",target:"Public Works, Transportation & Commerce",value:236525404},{source:"General Fund",target:"Human Welfare & Neighborhood Development",value:1418405892},{source:"General Fund",target:"Public Protection",value:1507122395},{source:"General Fund",target:"Transfers Out",value:1176276740},{source:"General Fund",target:"General City Responsibilities",value:249861573},{source:"General Fund",target:"General Administration & Finance",value:497915463},{source:"General Fund",target:"Culture & Recreation",value:220866400},{source:"Internal Service Funds",target:"General Administration & Finance",value:5082521},{source:"Pension, Other Employee and Ot",target:"General Administration & Finance",value:39923718},{source:"Permanent Fund",target:"Culture & Recreation",value:115e3},{source:"Special Revenue Funds",target:"Community Health",value:314610473},{source:"Special Revenue Funds",target:"Public Works, Transportation & Commerce",value:194963693},{source:"Special Revenue Funds",target:"Human Welfare & Neighborhood Development",value:947244265},{source:"Special Revenue Funds",target:"Public Protection",value:76633878},{source:"Special Revenue Funds",target:"General Administration & Finance",value:231257121},{source:"Special Revenue Funds",target:"Transfers Out",value:56154603},{source:"Special Revenue Funds",target:"Culture & Recreation",value:300116553},{source:"Special Revenue Funds",target:"General City Responsibilities",value:6939017},{source:"Enterprise Funds",target:"Transfers Out",value:414624316}]};function pn(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function yn(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function vn(e,t){return e.sourceLinks.length?e.depth:t-1}function mn(e){return function(){return e}}function xn(e,t){return bn(e.source,t.source)||e.index-t.index}function wn(e,t){return bn(e.target,t.target)||e.index-t.index}function bn(e,t){return e.y0-t.y0}function $n(e){return e.value}function _n(e){return e.index}function Mn(e){return e.nodes}function kn(e){return e.links}function Sn(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function Fn({nodes:e}){for(const t of e){let e=t.y0,n=e;for(const n of t.sourceLinks)n.y0=e+n.width/2,e+=n.width;for(const e of t.targetLinks)e.y1=n+e.width/2,n+=e.width}}function Nn(){let e,t,n,r=0,i=0,o=1,a=1,s=24,u=8,c=_n,l=vn,f=Mn,d=kn,h=6;function g(){const e={nodes:f.apply(null,arguments),links:d.apply(null,arguments)};return p(e),y(e),v(e),m(e),x(e),Fn(e),e}function p({nodes:e,links:t}){for(const[t,n]of e.entries())n.index=t,n.sourceLinks=[],n.targetLinks=[];const r=new Map(e.map(((t,n)=>[c(t,n,e),t])));for(const[e,n]of t.entries()){n.index=e;let{source:t,target:i}=n;"object"!=typeof t&&(t=n.source=Sn(r,t)),"object"!=typeof i&&(i=n.target=Sn(r,i)),t.sourceLinks.push(n),i.targetLinks.push(n)}if(null!=n)for(const{sourceLinks:t,targetLinks:r}of e)t.sort(n),r.sort(n)}function y({nodes:e}){for(const t of e)t.value=void 0===t.fixedValue?Math.max(yn(t.sourceLinks,$n),yn(t.targetLinks,$n)):t.fixedValue}function v({nodes:e}){const t=e.length;let n=new Set(e),r=new Set,i=0;for(;n.size;){for(const e of n){e.depth=i;for(const{target:t}of e.sourceLinks)r.add(t)}if(++i>t)throw new Error("circular link");n=r,r=new Set}}function m({nodes:e}){const t=e.length;let n=new Set(e),r=new Set,i=0;for(;n.size;){for(const e of n){e.height=i;for(const{source:t}of e.targetLinks)r.add(t)}if(++i>t)throw new Error("circular link");n=r,r=new Set}}function x(n){const c=function({nodes:e}){const n=pn(e,(e=>e.depth))+1,i=(o-r-s)/(n-1),a=new Array(n);for(const t of e){const e=Math.max(0,Math.min(n-1,Math.floor(l.call(null,t,n))));t.layer=e,t.x0=r+e*i,t.x1=t.x0+s,a[e]?a[e].push(t):a[e]=[t]}if(t)for(const e of a)e.sort(t);return a}(n);e=Math.min(u,(a-i)/(pn(c,(e=>e.length))-1)),function(t){const n=function(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(t,(t=>(a-i-(t.length-1)*e)/yn(t,$n)));for(const r of t){let t=i;for(const i of r){i.y0=t,i.y1=t+i.value*n,t=i.y1+e;for(const e of i.sourceLinks)e.width=e.value*n}t=(a-t+e)/(r.length+1);for(let e=0;e<r.length;++e){const n=r[e];n.y0+=t*(e+1),n.y1+=t*(e+1)}S(r)}}(c);for(let e=0;e<h;++e){const t=Math.pow(.99,e),n=Math.max(1-t,(e+1)/h);b(c,t,n),w(c,t,n)}}function w(e,n,r){for(let i=1,o=e.length;i<o;++i){const o=e[i];for(const e of o){let t=0,r=0;for(const{source:n,value:i}of e.targetLinks){let o=i*(e.layer-n.layer);t+=F(n,e)*o,r+=o}if(!(r>0))continue;let i=(t/r-e.y0)*n;e.y0+=i,e.y1+=i,k(e)}void 0===t&&o.sort(bn),$(o,r)}}function b(e,n,r){for(let i=e.length-2;i>=0;--i){const o=e[i];for(const e of o){let t=0,r=0;for(const{target:n,value:i}of e.sourceLinks){let o=i*(n.layer-e.layer);t+=N(e,n)*o,r+=o}if(!(r>0))continue;let i=(t/r-e.y0)*n;e.y0+=i,e.y1+=i,k(e)}void 0===t&&o.sort(bn),$(o,r)}}function $(t,n){const r=t.length>>1,o=t[r];M(t,o.y0-e,r-1,n),_(t,o.y1+e,r+1,n),M(t,a,t.length-1,n),_(t,i,0,n)}function _(t,n,r,i){for(;r<t.length;++r){const o=t[r],a=(n-o.y0)*i;a>1e-6&&(o.y0+=a,o.y1+=a),n=o.y1+e}}function M(t,n,r,i){for(;r>=0;--r){const o=t[r],a=(o.y1-n)*i;a>1e-6&&(o.y0-=a,o.y1-=a),n=o.y0-e}}function k({sourceLinks:e,targetLinks:t}){if(void 0===n){for(const{source:{sourceLinks:e}}of t)e.sort(wn);for(const{target:{targetLinks:t}}of e)t.sort(xn)}}function S(e){if(void 0===n)for(const{sourceLinks:t,targetLinks:n}of e)t.sort(wn),n.sort(xn)}function F(t,n){let r=t.y0-(t.sourceLinks.length-1)*e/2;for(const{target:i,width:o}of t.sourceLinks){if(i===n)break;r+=o+e}for(const{source:e,width:i}of n.targetLinks){if(e===t)break;r-=i}return r}function N(t,n){let r=n.y0-(n.targetLinks.length-1)*e/2;for(const{source:i,width:o}of n.targetLinks){if(i===t)break;r+=o+e}for(const{target:e,width:i}of t.sourceLinks){if(e===n)break;r-=i}return r}return g.update=function(e){return Fn(e),e},g.nodeId=function(e){return arguments.length?(c="function"==typeof e?e:mn(e),g):c},g.nodeAlign=function(e){return arguments.length?(l="function"==typeof e?e:mn(e),g):l},g.nodeSort=function(e){return arguments.length?(t=e,g):t},g.nodeWidth=function(e){return arguments.length?(s=+e,g):s},g.nodePadding=function(t){return arguments.length?(u=e=+t,g):u},g.nodes=function(e){return arguments.length?(f="function"==typeof e?e:mn(e),g):f},g.links=function(e){return arguments.length?(d="function"==typeof e?e:mn(e),g):d},g.linkSort=function(e){return arguments.length?(n=e,g):n},g.size=function(e){return arguments.length?(r=i=0,o=+e[0],a=+e[1],g):[o-r,a-i]},g.extent=function(e){return arguments.length?(r=+e[0][0],o=+e[1][0],i=+e[0][1],a=+e[1][1],g):[[r,i],[o,a]]},g.iterations=function(e){return arguments.length?(h=+e,g):h},g}var Rn=Math.PI,Pn=2*Rn,An=1e-6,Cn=Pn-An;function En(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zn(){return new En}function Ln(e){return function(){return e}}function Tn(e){return e[0]}function In(e){return e[1]}En.prototype=zn.prototype={constructor:En,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,u=r-t,c=o-e,l=a-t,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>An)if(Math.abs(l*s-u*c)>An&&i){var d=n-o,h=r-a,g=s*s+u*u,p=d*d+h*h,y=Math.sqrt(g),v=Math.sqrt(f),m=i*Math.tan((Rn-Math.acos((g+f-p)/(2*y*v)))/2),x=m/v,w=m/y;Math.abs(x-1)>An&&(this._+="L"+(e+x*c)+","+(t+x*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>c*h)+","+(this._x1=e+w*s)+","+(this._y1=t+w*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,c=t+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>An||Math.abs(this._y1-c)>An)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Pn+Pn),f>Cn?this._+="A"+n+","+n+",0,1,"+l+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>An&&(this._+="A"+n+","+n+",0,"+ +(f>=Rn)+","+l+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var jn=Array.prototype.slice;function On(e){return e.source}function Dn(e){return e.target}function Gn(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function qn(){return function(e){var t=On,n=Dn,r=Tn,i=In,o=null;function a(){var a,s=jn.call(arguments),u=t.apply(this,s),c=n.apply(this,s);if(o||(o=a=zn()),e(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(e){return arguments.length?(n=e,a):n},a.x=function(e){return arguments.length?(r="function"==typeof e?e:Ln(+e),a):r},a.y=function(e){return arguments.length?(i="function"==typeof e?e:Ln(+e),a):i},a.context=function(e){return arguments.length?(o=null==e?null:e,a):o},a}(Gn)}function Hn(e){return[e.source.x1,e.y0]}function Bn(e){return[e.target.x0,e.y1]}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Wn(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var Un="http://www.w3.org/1999/xhtml",Yn={svg:"http://www.w3.org/2000/svg",xhtml:Un,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xn(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Yn.hasOwnProperty(t)?{space:Yn[t],local:e}:e}function Vn(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Un&&t.documentElement.namespaceURI===Un?t.createElement(e):t.createElementNS(n,e)}}function Zn(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Qn(e){var t=Xn(e);return(t.local?Zn:Vn)(t)}function Jn(){}function Kn(e){return null==e?Jn:function(){return this.querySelector(e)}}function er(){return[]}function tr(e){return null==e?er:function(){return this.querySelectorAll(e)}}function nr(e){return function(){return this.matches(e)}}function rr(e){return new Array(e.length)}function ir(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ir.prototype={constructor:ir,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function or(e,t,n,r,i,o){for(var a,s=0,u=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new ir(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function ar(e,t,n,r,i,o,a){var s,u,c,l={},f=t.length,d=o.length,h=new Array(f);for(s=0;s<f;++s)(u=t[s])&&(h[s]=c="$"+a.call(u,u.__data__,s,t),c in l?i[s]=u:l[c]=u);for(s=0;s<d;++s)(u=l[c="$"+a.call(e,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new ir(e,o[s]);for(s=0;s<f;++s)(u=t[s])&&l[h[s]]===u&&(i[s]=u)}function sr(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ur(e){return function(){this.removeAttribute(e)}}function cr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lr(e,t){return function(){this.setAttribute(e,t)}}function fr(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function dr(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function hr(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function gr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pr(e){return function(){this.style.removeProperty(e)}}function yr(e,t,n){return function(){this.style.setProperty(e,t,n)}}function vr(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function mr(e,t){return e.style.getPropertyValue(t)||gr(e).getComputedStyle(e,null).getPropertyValue(t)}function xr(e){return function(){delete this[e]}}function wr(e,t){return function(){this[e]=t}}function br(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function $r(e){return e.trim().split(/^|\s+/)}function _r(e){return e.classList||new Mr(e)}function Mr(e){this._node=e,this._names=$r(e.getAttribute("class")||"")}function kr(e,t){for(var n=_r(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Sr(e,t){for(var n=_r(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Fr(e){return function(){kr(this,e)}}function Nr(e){return function(){Sr(this,e)}}function Rr(e,t){return function(){(t.apply(this,arguments)?kr:Sr)(this,e)}}function Pr(){this.textContent=""}function Ar(e){return function(){this.textContent=e}}function Cr(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Er(){this.innerHTML=""}function zr(e){return function(){this.innerHTML=e}}function Lr(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Tr(){this.nextSibling&&this.parentNode.appendChild(this)}function Ir(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jr(){return null}function Or(){var e=this.parentNode;e&&e.removeChild(this)}function Dr(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gr(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}Mr.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var qr={},Hr=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(qr={mouseenter:"mouseover",mouseleave:"mouseout"}));function Br(e,t,n){return e=Wr(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function Wr(e,t,n){return function(r){var i=Hr;Hr=r;try{e.call(this,this.__data__,t,n)}finally{Hr=i}}}function Ur(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Yr(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function Xr(e,t,n){var r=qr.hasOwnProperty(e.type)?Br:Wr;return function(i,o,a){var s,u=this.__on,c=r(t,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function Vr(e,t,n){var r=gr(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Zr(e,t){return function(){return Vr(this,e,t)}}function Qr(e,t){return function(){return Vr(this,e,t.apply(this,arguments))}}var Jr=[null];function Kr(e,t){this._groups=e,this._parents=t}function ei(){return new Kr([[document.documentElement]],Jr)}function ti(e){return"string"==typeof e?new Kr([[document.querySelector(e)]],[document.documentElement]):new Kr([[e]],Jr)}Kr.prototype=ei.prototype={constructor:Kr,select:function(e){"function"!=typeof e&&(e=Kn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=e.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Kr(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=tr(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),i.push(a));return new Kr(r,i)},filter:function(e){"function"!=typeof e&&(e=nr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&u.push(o);return new Kr(r,this._parents)},data:function(e,t){if(!e)return h=new Array(this.size()),c=-1,this.each((function(e){h[++c]=e})),h;var n=t?ar:or,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function(e){return function(){return e}}(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],f=i[c],d=f.length,h=e.call(l,l&&l.__data__,c,r),g=h.length,p=s[c]=new Array(g),y=a[c]=new Array(g);n(l,f,p,y,u[c]=new Array(d),h,t);for(var v,m,x=0,w=0;x<g;++x)if(v=p[x]){for(x>=w&&(w=x+1);!(m=y[w])&&++w<g;);v._next=m||null}}return(a=new Kr(a,r))._enter=s,a._exit=u,a},enter:function(){return new Kr(this._enter||this._groups.map(rr),this._parents)},exit:function(){return new Kr(this._exit||this._groups.map(rr),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=t[s],l=n[s],f=c.length,d=a[s]=new Array(f),h=0;h<f;++h)(u=c[h]||l[h])&&(d[h]=u);for(;s<r;++s)a[s]=t[s];return new Kr(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=sr);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(t)}return new Kr(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=Xn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?cr:ur:"function"==typeof t?n.local?hr:dr:n.local?fr:lr)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?pr:"function"==typeof t?vr:yr)(e,t,null==n?"":n)):mr(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?xr:"function"==typeof t?br:wr)(e,t)):this.node()[e]},classed:function(e,t){var n=$r(e+"");if(arguments.length<2){for(var r=_r(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Rr:t?Fr:Nr)(n,t))},text:function(e){return arguments.length?this.each(null==e?Pr:("function"==typeof e?Cr:Ar)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Er:("function"==typeof e?Lr:zr)(e)):this.node().innerHTML},raise:function(){return this.each(Tr)},lower:function(){return this.each(Ir)},append:function(e){var t="function"==typeof e?e:Qn(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Qn(e),r=null==t?jr:"function"==typeof t?t:Kn(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Or)},clone:function(e){return this.select(e?Gr:Dr)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=Ur(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Xr:Yr,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?Qr:Zr)(e,t))}};var ni=0;function ri(){return new ii}function ii(){this._="@"+(++ni).toString(36)}function oi(){for(var e,t=Hr;e=t.sourceEvent;)t=e;return t}function ai(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}ii.prototype=ri.prototype={constructor:ii,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var si,ui=Wn(Object.freeze({__proto__:null,create:function(e){return ti(Qn(e).call(document.documentElement))},creator:Qn,local:ri,matcher:nr,mouse:function(e){var t=oi();return t.changedTouches&&(t=t.changedTouches[0]),ai(e,t)},namespace:Xn,namespaces:Yn,clientPoint:ai,select:ti,selectAll:function(e){return"string"==typeof e?new Kr([document.querySelectorAll(e)],[document.documentElement]):new Kr([null==e?[]:e],Jr)},selection:ei,selector:Kn,selectorAll:tr,style:mr,touch:function(e,t,n){arguments.length<3&&(n=t,t=oi().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return ai(e,r);return null},touches:function(e,t){null==t&&(t=oi().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=ai(e,t[n]);return i},window:gr,get event(){return Hr},customEvent:function(e,t,n,r){var i=Hr;e.sourceEvent=Hr,Hr=e;try{return t.apply(n,r)}finally{Hr=i}}})),ci=(function(e,t){!function(e,t){var n,r,i,o,a,s,u;n="undefined"==typeof SVGForeignObjectElement?"tspans":"foreignobject",r=function(e){var n,r;return r="function"==typeof e,"object"!=typeof e||e.nodeType?!!(e instanceof t.selection||e.nodeType||r||n)||(console.error("invalid bounds specified for text wrapping"),!1):!(!e.height||!e.width)||(console.error("text wrapping bounds must specify height and width"),!1)},i=function(e){var t,n,r,i;for(t=["height","width"],"function"==typeof e?n=e():e.nodeType?n=e.getBoundingClientRect():"object"==typeof e&&(n=e),r=Object.create(null),i=0;i<t.length;i++)r[t[i]]=n[t[i]];return r},o=function(e){var t;if("function"==typeof e?t=e():"number"==typeof e?t=e:void 0===e&&(t=0),"number"==typeof t)return t;console.error("padding could not be converted into a number")},a=function(e,t){return{height:e.height-2*t,width:e.width-2*t}},s=function(e,t){return a(i(e),o(t))},(u={}).foreignobject=function(e,n,r){var i,o,a,s;return i=e.text(),o=t.select(e.node().parentNode),e.remove(),(a=o.append("foreignObject")).attr("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility").attr("width",n.width).attr("height",n.height),"number"==typeof r&&a.attr("x",+e.attr("x")+r).attr("y",+e.attr("y")+r),(s=a.append("xhtml:div")).style("height",n.height).style("width",n.width).html(i),s},u.tspans=function(e,t,n){var r,i,o,a,s;for(r=e.text().split(" ").reverse(),e.text(""),(a=e.append("tspan")).attr("dx",0).attr("dy",0),o=0;r.length>0;)i=r.pop(),a.text(a.text()+" "+i),(a.node().getComputedTextLength()||0)>t.width&&(s=a.text().split(" ").slice(0,-1).join(" "),a.text(s),o=-1*a.node().getComputedTextLength(),(a=e.append("tspan")).attr("dx",o).attr("dy","1em").text(i));"number"==typeof n&&e.attr("y",+e.attr("y")+n).attr("x",+e.attr("x")+n)};var c=function(){var e,i,a;return(e=function(e){e.each((function(){t.select(this).call(u[n],s(i,a),o(a))}))}).bounds=function(t){return t?r(t)?(i=t,e):(console.error("invalid text wrapping bounds"),!1):i},e.padding=function(t){return t?"number"==typeof t||"function"==typeof t?(a=t,e):(console.error("text wrap padding value must be either a number or a function"),!1):a},e.method=function(t){return t?(n=t,e):n},e};e.selection=t.selection,e.select=t.select,e.textwrap=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,ui)}(si={exports:{}},si.exports),si.exports);function li(e,t,n){const r=e.slice();return r[25]=t[n],r[27]=n,r}function fi(e,t,n){const r=e.slice();return r[25]=t[n],r}function di(e){let t,n,i,o,a,s;function u(...t){return e[17](e[25],...t)}return{c(){t=m("path"),_(t,"class","link svelte-ivkcqv"),_(t,"d",n=e[4](e[25])),_(t,"fill","none"),_(t,"stroke",i=`url(#${0==e[25].source.x0?"rToF":"fToS"})`),_(t,"stroke-width",o=e[25].width)},m(n,r){g(n,t,r),a||(s=[$(t,"mousemove",u),$(t,"mouseout",e[18]),$(t,"blur",e[19])],a=!0)},p(r,a){e=r,48&a&&n!==(n=e[4](e[25]))&&_(t,"d",n),32&a&&i!==(i=`url(#${0==e[25].source.x0?"rToF":"fToS"})`)&&_(t,"stroke",i),32&a&&o!==(o=e[25].width)&&_(t,"stroke-width",o)},d(e){e&&p(t),a=!1,r(s)}}}function hi(e){let t,n,r,i,o=e[25].id+"";return{c(){t=m("text"),n=x(o),_(t,"class","node-label svelte-ivkcqv"),_(t,"x",r=e[25].x0<3*e[2]/4?e[25].x1+6:e[25].x0-6),_(t,"y",i=(e[25].y1+e[25].y0)/2),k(t,"text-anchor",e[25].x0<3*e[2]/4?"start":"end")},m(r,i){g(r,t,i),h(t,n),e[23](t)},p(e,a){32&a&&o!==(o=e[25].id+"")&&M(n,o),36&a&&r!==(r=e[25].x0<3*e[2]/4?e[25].x1+6:e[25].x0-6)&&_(t,"x",r),32&a&&i!==(i=(e[25].y1+e[25].y0)/2)&&_(t,"y",i),36&a&&k(t,"text-anchor",e[25].x0<3*e[2]/4?"start":"end")},d(n){n&&p(t),e[23](null)}}}function gi(e){let t,n,i,o,a,s,u,c,l;function f(...t){return e[20](e[25],...t)}let d=e[25].value>1e9&&hi(e);return{c(){t=m("g"),n=m("rect"),d&&d.c(),_(n,"class","node svelte-ivkcqv"),_(n,"x",i=e[25].x0),_(n,"y",o=e[25].y0),_(n,"height",a=e[25].y1-e[25].y0),_(n,"width",s=e[25].x1-e[25].x0),_(n,"fill",u=e[9][e[25].category])},m(r,i){g(r,t,i),h(t,n),d&&d.m(t,null),c||(l=[$(n,"mousemove",f),$(n,"mouseout",e[21]),$(n,"blur",e[22])],c=!0)},p(r,c){e=r,32&c&&i!==(i=e[25].x0)&&_(n,"x",i),32&c&&o!==(o=e[25].y0)&&_(n,"y",o),32&c&&a!==(a=e[25].y1-e[25].y0)&&_(n,"height",a),32&c&&s!==(s=e[25].x1-e[25].x0)&&_(n,"width",s),32&c&&u!==(u=e[9][e[25].category])&&_(n,"fill",u),e[25].value>1e9?d?d.p(e,c):(d=hi(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},d(e){e&&p(t),d&&d.d(),c=!1,r(l)}}}function pi(t){let n,r,i,o,a,s,u,c,l,f,d,v=t[5].links,w=[];for(let e=0;e<v.length;e+=1)w[e]=di(fi(t,v,e));let b=t[5].nodes,$=[];for(let e=0;e<b.length;e+=1)$[e]=gi(li(t,b,e));return{c(){n=m("g"),r=m("g"),i=m("text"),o=x("Revenues"),a=m("text"),s=x("Funds"),c=m("text"),l=x("Spending"),f=m("g");for(let e=0;e<w.length;e+=1)w[e].c();d=m("g");for(let e=0;e<$.length;e+=1)$[e].c();_(i,"class","header start svelte-ivkcqv"),_(i,"x",0),_(i,"y",0),_(a,"class","header middle svelte-ivkcqv"),_(a,"x",u=t[2]/2),_(a,"y",0),_(c,"class","header end svelte-ivkcqv"),_(c,"x",t[2]),_(c,"y",0),_(r,"class","headers"),_(r,"transform","translate(0, -15)"),_(f,"class","link-group"),_(d,"class","rect-group"),_(n,"class","sankey-layer")},m(e,t){g(e,n,t),h(n,r),h(r,i),h(i,o),h(r,a),h(a,s),h(r,c),h(c,l),h(n,f);for(let e=0;e<w.length;e+=1)w[e].m(f,null);h(n,d);for(let e=0;e<$.length;e+=1)$[e].m(d,null)},p(e,[t]){if(4&t&&u!==(u=e[2]/2)&&_(a,"x",u),4&t&&_(c,"x",e[2]),50&t){let n;for(v=e[5].links,n=0;n<v.length;n+=1){const r=fi(e,v,n);w[n]?w[n].p(r,t):(w[n]=di(r),w[n].c(),w[n].m(f,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=v.length}if(559&t){let n;for(b=e[5].nodes,n=0;n<b.length;n+=1){const r=li(e,b,n);$[n]?$[n].p(r,t):($[n]=gi(r),$[n].c(),$[n].m(d,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=b.length}},i:e,o:e,d(e){e&&p(n),y(w,e),y($,e)}}}function yi(e,t,n){let r,i,o,a,u,c;const{data:l,width:f,height:d}=E("LayerCake");s(e,l,(e=>n(15,a=e))),s(e,f,(e=>n(2,c=e))),s(e,d,(e=>n(16,u=e)));let h,{hoveredNode:g,hoveredLink:p}=t,{nodeWidth:y=10}=t,{nodePadding:v=10}=t,{linkSort:m=null}=t,{nodeId:x=(e=>e.id)}=t;ci.textwrap().bounds({width:150,height:100}).method("tspans");return e.$$set=e=>{"hoveredNode"in e&&n(0,g=e.hoveredNode),"hoveredLink"in e&&n(1,p=e.hoveredLink),"nodeWidth"in e&&n(10,y=e.nodeWidth),"nodePadding"in e&&n(11,v=e.nodePadding),"linkSort"in e&&n(12,m=e.linkSort),"nodeId"in e&&n(13,x=e.nodeId)},e.$$.update=()=>{80900&e.$$.dirty&&n(14,r=Nn().nodeWidth(y).nodePadding(v).nodeId(x).size([c,u]).linkSort(m).iterations(2e3)),49152&e.$$.dirty&&n(5,i=r(a))},n(4,o=qn().source(Hn).target(Bn)),[g,p,c,h,o,i,l,f,d,{revenues:"#25C2E4",funds:"#FFCA42",spending:"#F15F27"},y,v,m,x,r,a,u,(e,t)=>{n(1,p={e:t,data:e})},()=>n(1,p=null),()=>n(1,p=null),(e,t)=>{n(0,g={e:t,data:e})},()=>n(0,g=null),()=>n(1,p=null),function(e){L[e?"unshift":"push"]((()=>{h=e,n(3,h)}))}]}class vi extends ne{constructor(e){super(),te(this,e,yi,pi,o,{hoveredNode:0,hoveredLink:1,nodeWidth:10,nodePadding:11,linkSort:12,nodeId:13})}}function mi(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}var xi,wi=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bi(e){if(!(t=wi.exec(e)))throw new Error("invalid format: "+e);var t;return new $i({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function $i(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function _i(e,t){var n=mi(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}bi.prototype=$i.prototype,$i.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Mi={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>_i(100*e,t),r:_i,s:function(e,t){var n=mi(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(xi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mi(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ki(e){return e}var Si,Fi,Ni=Array.prototype.map,Ri=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Pi(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?ki:(t=Ni.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?ki:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Ni.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=bi(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,g=e.width,p=e.comma,y=e.precision,v=e.trim,m=e.type;"n"===m?(p=!0,m="g"):Mi[m]||(void 0===y&&(y=12),v=!0,m="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var x="$"===d?i:"#"===d&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===d?o:/[%p]/.test(m)?u:"",b=Mi[m],$=/[defgprs%]/.test(m);function _(e){var i,o,u,d=x,_=w;if("c"===m)_=b(e)+_,e="";else{var M=(e=+e)<0||1/e<0;if(e=isNaN(e)?l:b(Math.abs(e),y),v&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),M&&0==+e&&"+"!==f&&(M=!1),d=(M?"("===f?f:c:"-"===f||"("===f?"":f)+d,_=("s"===m?Ri[8+xi/3]:"")+_+(M&&"("===f?")":""),$)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){_=(46===u?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}p&&!h&&(e=r(e,1/0));var k=d.length+e.length+_.length,S=k<g?new Array(g-k+1).join(t):"";switch(p&&h&&(e=r(S+e,S.length?g-_.length:1/0),S=""),n){case"<":e=d+e+_+S;break;case"=":e=d+S+e+_;break;case"^":e=S.slice(0,k=S.length>>1)+d+e+_+S.slice(k);break;default:e=S+d+e+_}return s(e)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),_.toString=function(){return e+""},_}return{format:f,formatPrefix:function(e,t){var n=f(((e=bi(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(function(e){return(e=mi(Math.abs(e)))?e[1]:NaN}(t)/3))),i=Math.pow(10,-r),o=Ri[8+r/3];return function(e){return n(i*e)+o}}}}function Ai(e){let t;function n(e,t){return e[0]?Ei:Ci}let r=n(e),i=r(e);return{c(){i.c(),t=b()},m(e,n){i.m(e,n),g(e,t,n)},p(e,o){r===(r=n(e))&&i?i.p(e,o):(i.d(1),i=r(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&p(t)}}}function Ci(e){let t,n,r,i,o,a,s,u=e[3].data.source.id+"",c=e[3].data.target.id+"",l=e[8](e[3].data.value)+"";return{c(){t=v("div"),n=x(u),r=x(" → "),i=x(c),o=w(),a=v("div"),s=x(l),_(t,"class","description"),_(a,"class","value svelte-1bplenv")},m(e,u){g(e,t,u),h(t,n),h(t,r),h(t,i),g(e,o,u),g(e,a,u),h(a,s)},p(e,t){8&t&&u!==(u=e[3].data.source.id+"")&&M(n,u),8&t&&c!==(c=e[3].data.target.id+"")&&M(i,c),8&t&&l!==(l=e[8](e[3].data.value)+"")&&M(s,l)},d(e){e&&p(t),e&&p(o),e&&p(a)}}}function Ei(e){let t,n,r,i,o,a,s,u=e[3].data.id+"",c=e[3].data.definition+"",l="fssdfsdunds"!=e[3].data.category&&zi(e);return{c(){t=v("div"),n=x(u),r=w(),i=v("div"),o=x(c),a=w(),l&&l.c(),s=b(),_(t,"class","title svelte-1bplenv"),_(i,"class","definition")},m(e,u){g(e,t,u),h(t,n),g(e,r,u),g(e,i,u),h(i,o),g(e,a,u),l&&l.m(e,u),g(e,s,u)},p(e,t){8&t&&u!==(u=e[3].data.id+"")&&M(n,u),8&t&&c!==(c=e[3].data.definition+"")&&M(o,c),"fssdfsdunds"!=e[3].data.category?l?l.p(e,t):(l=zi(e),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(e){e&&p(t),e&&p(r),e&&p(i),e&&p(a),l&&l.d(e),e&&p(s)}}}function zi(e){let t,n,r=e[8](e[3].data.value)+"";return{c(){t=v("div"),n=x(r),_(t,"class","value svelte-1bplenv")},m(e,r){g(e,t,r),h(t,n)},p(e,t){8&t&&r!==(r=e[8](e[3].data.value)+"")&&M(n,r)},d(e){e&&p(t)}}}function Li(t){let n,r,i,o=t[3]&&Ai(t);return{c(){n=v("div"),o&&o.c(),_(n,"class",function(e){return null==e?"":e}("tooltip")+" svelte-1bplenv"),_(n,"style",r=t[3]&&t[3].e&&`top: ${t[3].e.offsetY+t[2]/2>t[4]?t[3].e.offsetY-t[2]:t[3].e.offsetY-t[2]<0?t[3].e.offsetY:t[3].e.offsetY-t[2]/2}px; left: ${t[3].e.offsetX+t[1]>t[5]?t[3].e.offsetX-t[1]<0?t[3].e.offsetX-t[1]/2:t[3].e.offsetX-t[1]-Ti:t[3].e.offsetX+Ti}px;`),D((()=>t[10].call(n))),P(n,"active",t[3])},m(e,r){g(e,n,r),o&&o.m(n,null),i=R(n,t[10].bind(n))},p(e,[t]){e[3]?o?o.p(e,t):(o=Ai(e),o.c(),o.m(n,null)):o&&(o.d(1),o=null),62&t&&r!==(r=e[3]&&e[3].e&&`top: ${e[3].e.offsetY+e[2]/2>e[4]?e[3].e.offsetY-e[2]:e[3].e.offsetY-e[2]<0?e[3].e.offsetY:e[3].e.offsetY-e[2]/2}px; left: ${e[3].e.offsetX+e[1]>e[5]?e[3].e.offsetX-e[1]<0?e[3].e.offsetX-e[1]/2:e[3].e.offsetX-e[1]-Ti:e[3].e.offsetX+Ti}px;`)&&_(n,"style",r),8&t&&P(n,"active",e[3])},i:e,o:e,d(e){e&&p(n),o&&o.d(),i()}}}!function(e){Si=Pi(e),Fi=Si.format}({thousands:",",grouping:[3],currency:["$",""]});const Ti=15;function Ii(e,t,n){let r,i,o;const{width:a,height:u}=E("LayerCake");let c,l;s(e,a,(e=>n(5,o=e))),s(e,u,(e=>n(4,i=e)));let{hoveredNode:f,hoveredLink:d}=t;return e.$$set=e=>{"hoveredNode"in e&&n(0,f=e.hoveredNode),"hoveredLink"in e&&n(9,d=e.hoveredLink)},e.$$.update=()=>{513&e.$$.dirty&&n(3,r=f||d),e.$$.dirty},[f,c,l,r,i,o,a,u,e=>Fi("$0.3s")(e).replace(/G/,"B").toLowerCase(),d,function(){c=this.clientWidth,l=this.clientHeight,n(1,c),n(2,l)}]}class ji extends ne{constructor(e){super(),te(this,e,Ii,Li,o,{hoveredNode:0,hoveredLink:9})}}function Oi(e){let t,n,r,i,o,a,s,u,c,l,f,d;function y(t){e[2](t)}function v(t){e[3](t)}let x={};return void 0!==e[0]&&(x.hoveredNode=e[0]),void 0!==e[1]&&(x.hoveredLink=e[1]),c=new vi({props:x}),L.push((()=>Z(c,"hoveredNode",y))),L.push((()=>Z(c,"hoveredLink",v))),{c(){t=m("defs"),n=m("linearGradient"),r=m("stop"),i=m("stop"),o=m("linearGradient"),a=m("stop"),s=m("stop"),u=w(),Q(c.$$.fragment),_(r,"offset","0%"),_(r,"stop-color","#25C2E4"),_(i,"offset","100%"),_(i,"stop-color","#FFCA42"),_(n,"id","rToF"),_(n,"x1","0"),_(n,"y1","0"),_(n,"x2","100%"),_(n,"y2","0"),_(a,"offset","0%"),_(a,"stop-color","#FFCA42"),_(s,"offset","100%"),_(s,"stop-color","#F15F27"),_(o,"id","fToS"),_(o,"x1","0"),_(o,"y1","0"),_(o,"x2","100%"),_(o,"y2","0")},m(e,l){g(e,t,l),h(t,n),h(n,r),h(n,i),h(t,o),h(o,a),h(o,s),g(e,u,l),J(c,e,l),d=!0},p(e,t){const n={};!l&&1&t&&(l=!0,n.hoveredNode=e[0],G((()=>l=!1))),!f&&2&t&&(f=!0,n.hoveredLink=e[1],G((()=>f=!1))),c.$set(n)},i(e){d||(X(c.$$.fragment,e),d=!0)},o(e){V(c.$$.fragment,e),d=!1},d(e){e&&p(t),e&&p(u),K(c,e)}}}function Di(e){let t,n,r,i;return t=new hn({props:{$$slots:{default:[Oi]},$$scope:{ctx:e}}}),r=new ji({props:{hoveredNode:e[0],hoveredLink:e[1]}}),{c(){Q(t.$$.fragment),n=w(),Q(r.$$.fragment)},m(e,o){J(t,e,o),g(e,n,o),J(r,e,o),i=!0},p(e,n){const i={};19&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const o={};1&n&&(o.hoveredNode=e[0]),2&n&&(o.hoveredLink=e[1]),r.$set(o)},i(e){i||(X(t.$$.fragment,e),X(r.$$.fragment,e),i=!0)},o(e){V(t.$$.fragment,e),V(r.$$.fragment,e),i=!1},d(e){K(t,e),e&&p(n),K(r,e)}}}function Gi(e){let t,n,r,i;return r=new an({props:{data:gn,padding:{top:30,right:0,bottom:0,left:0},$$slots:{default:[Di]},$$scope:{ctx:e}}}),{c(){t=v("main"),n=v("div"),Q(r.$$.fragment),_(n,"class","chart-container svelte-1669twz"),_(t,"class","svelte-1669twz")},m(e,o){g(e,t,o),h(t,n),J(r,n,null),i=!0},p(e,[t]){const n={};19&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){i||(X(r.$$.fragment,e),i=!0)},o(e){V(r.$$.fragment,e),i=!1},d(e){e&&p(t),K(r)}}}function qi(e,t,n){let r,i;return[r,i,function(e){r=e,n(0,r)},function(e){i=e,n(1,i)}]}return new class extends ne{constructor(e){super(),te(this,e,qi,Gi,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
